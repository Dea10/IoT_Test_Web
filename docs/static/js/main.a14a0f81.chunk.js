(this.webpackJsonpiot_test_web=this.webpackJsonpiot_test_web||[]).push([[0],{13:function(e,a,t){e.exports=t(21)},21:function(e,a,t){"use strict";t.r(a);var l=t(0),n=t.n(l),r=t(12),c=t.n(r),m=t(2),o=t(1),s=(t(6),t(3)),u=t(4),i=function(){var e=Object(l.useState)({id:"",label:"",manufacturer:"",type:"",state:""}),a=Object(m.a)(e,2),t=a[0],r=a[1],c=function(e){var a=e.target;r(Object(u.a)(Object(u.a)({},t),{},Object(s.a)({},a.name,a.value)))},i=function(e){o.database().ref("/devices/").child(e.id).set({id:e.id,label:e.label,manufacturer:e.manufacturer,type:e.type,state:e.state})};return n.a.createElement("form",{onSubmit:function(e){e.preventDefault(),i(t),console.log("done!"),r({id:"",label:"",manufacturer:"",type:"",state:""})}},n.a.createElement("div",{className:"form-group row"},n.a.createElement("label",{className:"col-sm-2 col-form-label"},"id: "),n.a.createElement("div",{className:"col-sm-10"},n.a.createElement("input",{name:"id",type:"text",className:"form-control",value:t.id,onChange:c}))),n.a.createElement("br",null),n.a.createElement("div",{className:"form-group row"},n.a.createElement("label",{className:"col-sm-2 col-form-label"},"label: "),n.a.createElement("div",{className:"col-sm-10"},n.a.createElement("input",{name:"label",type:"text",className:"form-control",value:t.label,onChange:c}))),n.a.createElement("br",null),n.a.createElement("div",{className:"form-group row"},n.a.createElement("label",{className:"col-sm-2 col-form-label"},"manufacturer:"),n.a.createElement("div",{className:"col-sm-10"},n.a.createElement("input",{name:"manufacturer",type:"text",className:"form-control",value:t.manufacturer,onChange:c}))),n.a.createElement("br",null),n.a.createElement("div",{className:"form-group row"},n.a.createElement("label",{className:"col-sm-2 col-form-label"},"type:"),n.a.createElement("div",{className:"col-sm-10"},n.a.createElement("input",{name:"type",type:"text",className:"form-control",value:t.type,onChange:c}))),n.a.createElement("br",null),n.a.createElement("div",{className:"form-group row"},n.a.createElement("label",{className:"col-sm-2 col-form-label"},"state:"),n.a.createElement("div",{className:"col-sm-10"},n.a.createElement("input",{name:"state",type:"text",className:"form-control",value:t.state,onChange:c}))),n.a.createElement("br",null),n.a.createElement("input",{className:"btn btn-primary",type:"submit",value:"Submit"}))},b=function(e){var a=o.database().ref("/devices/");return n.a.createElement("li",{className:"list-group-item dflex"},n.a.createElement("span",{className:"flex-grow-1"},e.id," - ",e.label),n.a.createElement("button",{className:"btn btn-danger ml-3",onClick:function(){a.child(e.id).remove()}},"Delete"))},d=function(e){var a=e.id,t=e.label,r=e.manufacturer,c=e.type,i=e.state,b=Object(l.useState)(!1),d=Object(m.a)(b,2),p=d[0],f=d[1],E=Object(l.useState)({id:a,label:t,manufacturer:r,type:c,state:i}),v=Object(m.a)(E,2),N=v[0],g=v[1],y=function(e){var a=e.target;g(Object(u.a)(Object(u.a)({},N),{},Object(s.a)({},a.name,a.value)))};return n.a.createElement("div",null,n.a.createElement("button",{className:"btn btn-warning",onClick:function(){console.log("update"),f(!0)}},"Update"),p&&n.a.createElement("form",{onSubmit:function(e){var a;e.preventDefault(),a=N,o.database().ref("/devices/").child(a.id).set({id:a.id,label:a.label,manufacturer:a.manufacturer,type:a.type,state:a.state}),console.log("done!"),g({id:"",label:"",manufacturer:"",type:"",state:""}),f(!1)}},n.a.createElement("div",{className:"form-group row"},n.a.createElement("label",{className:"col-sm-2 col-form-label"},"id:"),n.a.createElement("div",{className:"col-sm-10"},n.a.createElement("input",{name:"id",type:"text",className:"form-control",value:N.id,onChange:y}))),n.a.createElement("br",null),n.a.createElement("div",{className:"form-group row"},n.a.createElement("label",{className:"col-sm-2 col-form-label"},"label:"),n.a.createElement("div",{className:"col-sm-10"},n.a.createElement("input",{name:"label",type:"text",className:"form-control",value:N.label,onChange:y}))),n.a.createElement("br",null),n.a.createElement("div",{className:"form-group row"},n.a.createElement("label",{className:"col-sm-2 col-form-label"},"manufacturer:"),n.a.createElement("div",{className:"col-sm-10"},n.a.createElement("input",{name:"manufacturer",type:"text",className:"form-control",value:N.manufacturer,onChange:y}))),n.a.createElement("br",null),n.a.createElement("div",{className:"form-group row"},n.a.createElement("label",{className:"col-sm-2 col-form-label"},"type:"),n.a.createElement("div",{className:"col-sm-10"},n.a.createElement("input",{name:"type",type:"text",className:"form-control",value:N.type,onChange:y}))),n.a.createElement("br",null),n.a.createElement("div",{className:"form-group row"},n.a.createElement("label",{className:"col-sm-2 col-form-label"},"state:"),n.a.createElement("div",{className:"col-sm-10"},n.a.createElement("input",{name:"state",type:"text",className:"form-control",value:N.state,onChange:y}))),n.a.createElement("br",null),n.a.createElement("input",{className:"btn btn-primary",type:"submit",value:"Submit"})))},p=function(){var e=Object(l.useState)([]),a=Object(m.a)(e,2),t=a[0],r=a[1];o.apps.length||o.initializeApp({apiKey:"AIzaSyC2Y7QCis_lQ6sLualc4zNLaRnf-ptH2G4",authDomain:"iotandroid-7bad6.firebaseapp.com",databaseURL:"https://iotandroid-7bad6.firebaseio.com",projectId:"iotandroid-7bad6",storageBucket:"iotandroid-7bad6.appspot.com",messagingSenderId:"990215716852",appId:"1:990215716852:web:9253534be1152c71dbc3a1",measurementId:"G-NDPNP3L9DB"});var c=o.database().ref("/devices/");return Object(l.useEffect)((function(){c.on("value",(function(e){var a=e.val();console.log(a);var t=[];for(var l in a)t.push(a[l]);console.log(t),r(t)}))}),[]),n.a.createElement("div",null,n.a.createElement("h3",null,"Devices List"),n.a.createElement(i,null),n.a.createElement("ol",null,t.map((function(e){return n.a.createElement("ul",{className:"list-group",key:e.id},n.a.createElement(b,{label:e.label,id:e.id}),n.a.createElement(d,{id:e.id,label:e.label,manufacturer:e.manufacturer,type:e.type,state:e.state}))}))))},f=function(){return n.a.createElement("div",null,n.a.createElement("h1",null,"Web-test"),n.a.createElement(p,null))},E=document.querySelector("#root");c.a.render(n.a.createElement(f,null),E)}},[[13,1,2]]]);
//# sourceMappingURL=main.a14a0f81.chunk.js.map