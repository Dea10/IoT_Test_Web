(this.webpackJsonpiot_test_web=this.webpackJsonpiot_test_web||[]).push([[0],{16:function(e,a,t){e.exports=t(39)},38:function(e,a,t){},39:function(e,a,t){"use strict";t.r(a);var l=t(0),n=t.n(l),c=t(15),r=t.n(c),m=t(2),o=t(5),s=t(3),u=t(4),i=t.n(u),b=function(e){var a=e.device,t=e.setShowForm,c=Object(l.useState)(a),r=Object(m.a)(c,2),u=r[0],b=r[1],E=function(e){var a=e.target;b(Object(s.a)(Object(s.a)({},u),{},Object(o.a)({},a.name,a.value)))};return n.a.createElement(n.a.Fragment,null,n.a.createElement("form",null,n.a.createElement("div",{className:"form-group row"},n.a.createElement("label",{className:"col-sm-2 col-form-label"},"id"),n.a.createElement("div",{className:"col-sm-10"},n.a.createElement("input",{name:"id",type:"text",className:"form-control",value:u._id,disabled:!0}))),n.a.createElement("div",{className:"form-group row"},n.a.createElement("label",{className:"col-sm-2 col-form-label"},"type"),n.a.createElement("div",{className:"col-sm-10"},n.a.createElement("input",{name:"type",type:"text",className:"form-control",value:u.type,onChange:E}))),n.a.createElement("div",{className:"form-group row"},n.a.createElement("label",{className:"col-sm-2 col-form-label"},"label"),n.a.createElement("div",{className:"col-sm-10"},n.a.createElement("input",{name:"label",type:"text",className:"form-control",value:u.label,onChange:E}))),n.a.createElement("button",{onClick:function(e){e.preventDefault(),t(!1),i.a.put("https://web-test-back.herokuapp.com/device/".concat(u._id),u).then((function(e){console.log(e)})).catch((function(e){console.log(e)}))},type:"submit",className:"btn btn-primary"},"Submit")),n.a.createElement("br",null))},E=function(e){var a=e.device,t=Object(l.useState)(!1),c=Object(m.a)(t,2),r=c[0],o=c[1];return n.a.createElement(n.a.Fragment,null,r&&n.a.createElement(b,{setShowForm:o,device:a}),n.a.createElement("button",{onClick:function(){o(!r)},className:"btn btn-warning"},"Update"))},f=function(){return n.a.createElement(n.a.Fragment,null,n.a.createElement("span",null,"Not available, yet"))},v=function(){var e=Object(l.useState)(!1),a=Object(m.a)(e,2),t=a[0],c=a[1];return n.a.createElement(n.a.Fragment,null,t&&n.a.createElement(f,null),n.a.createElement("button",{onClick:function(){c(!t)},className:"btn btn-info"},"Control"))},p=function(e){var a=e._id;return n.a.createElement(n.a.Fragment,null,n.a.createElement("button",{onClick:function(){console.log(a),i.a.delete("https://web-test-back.herokuapp.com/device/".concat(a)).then((function(e){console.log(e)})).catch((function(e){console.log(e)}))},className:"btn btn-danger float-right"},"Delete"))},d=function(e){var a=e._id,t=e.label,l=e.device;return n.a.createElement(n.a.Fragment,null,n.a.createElement("li",{className:"list-group-item"},t," ",n.a.createElement(E,{device:l})," ",n.a.createElement(v,null)," ",n.a.createElement(p,{_id:a})))},N=function(e){var a=e.setShowForm,t=Object(l.useState)({type:"tv",label:"",manufacturer:"",state:{turnedOn:""}}),c=Object(m.a)(t,2),r=c[0],u=c[1],b=function(e){var a=e.target;u(Object(s.a)(Object(s.a)({},r),{},Object(o.a)({},a.name,a.value)))},E=function(e){var a=e.target;u(Object(s.a)(Object(s.a)({},r),{},{state:Object(s.a)(Object(s.a)({},r.state),{},Object(o.a)({},a.name,a.value))}))};return n.a.createElement("form",null,n.a.createElement("div",{className:"form-group row"},n.a.createElement("label",{className:"col-sm-2 col-form-label"},"type"),n.a.createElement("div",{className:"col-sm-10"},n.a.createElement("select",{className:"form-control",name:"type",value:r.type,onChange:b},n.a.createElement("option",{value:"tv"},"tv"),n.a.createElement("option",{value:"fan"},"fan"),n.a.createElement("option",{value:"light"},"light")))),n.a.createElement("div",{className:"form-group row"},n.a.createElement("label",{className:"col-sm-2 col-form-label"},"label"),n.a.createElement("div",{className:"col-sm-10"},n.a.createElement("input",{name:"label",type:"text",className:"form-control",onChange:b}))),n.a.createElement("div",{className:"form-group row"},n.a.createElement("label",{className:"col-sm-2 col-form-label"},"manufacturer"),n.a.createElement("div",{className:"col-sm-10"},n.a.createElement("input",{name:"manufacturer",type:"text",className:"form-control",onChange:b}))),"fan"!==r.type?n.a.createElement("div",{className:"form-group row"},n.a.createElement("label",{className:"col-sm-2 col-form-label"},"state: turnedOn"),n.a.createElement("div",{className:"col-sm-10"},n.a.createElement("input",{name:"turnedOn",type:"text",className:"form-control",onChange:E}))):n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{className:"form-group row"},n.a.createElement("label",{className:"col-sm-2 col-form-label"},"state: turnedOn"),n.a.createElement("div",{className:"col-sm-10"},n.a.createElement("input",{name:"turnedOn",type:"text",className:"form-control",onChange:E}))),n.a.createElement("div",{className:"form-group row"},n.a.createElement("label",{className:"col-sm-2 col-form-label"},"state: speed"),n.a.createElement("div",{className:"col-sm-10"},n.a.createElement("input",{name:"speed",type:"text",className:"form-control",onChange:E})))),n.a.createElement("button",{onClick:function(e){e.preventDefault(),a(!1),i.a.post("https://web-test-back.herokuapp.com/device",r).then((function(e){console.log(e)})).catch((function(e){console.log(e)}))},type:"submit",className:"btn btn-primary"},"Submit"))},g=function(){var e=Object(l.useState)(!1),a=Object(m.a)(e,2),t=a[0],c=a[1];return n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{className:"container"},n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"col-sm"},n.a.createElement("button",{onClick:function(){c(!t)},className:"btn btn-success"},"Add Device"))),n.a.createElement("br",null),n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"col-sm"},t&&n.a.createElement(N,{setShowForm:c})))),n.a.createElement("hr",null))},h=function(){var e=Object(l.useState)([]),a=Object(m.a)(e,2),t=a[0],c=a[1],r=Object(l.useState)(!1),o=Object(m.a)(r,2),s=o[0],u=o[1];return Object(l.useEffect)((function(){i.a.get("https://web-test-back.herokuapp.com/device").then((function(e){var a=e.data.devices;c(a),u(!1)})).catch((function(e){console.log(e)}))}),[s]),n.a.createElement("div",{onClick:function(){u(!0)}},n.a.createElement("div",{className:"container"},n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"col-sm"},n.a.createElement("h2",null,"Devices"))),n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"col-sm"},n.a.createElement(g,null)))),n.a.createElement("ul",{className:"list-group list-group-flush"},t.map((function(e){return n.a.createElement(d,{key:e._id,_id:e._id,label:e.label,device:e})}))))},O=function(){return n.a.createElement("div",null,n.a.createElement("h1",null,"Web-test"),n.a.createElement(h,null))},j=(t(38),document.querySelector("#root"));r.a.render(n.a.createElement(O,null),j)}},[[16,1,2]]]);
//# sourceMappingURL=main.19ac2cc1.chunk.js.map