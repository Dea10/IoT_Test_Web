(this.webpackJsonpiot_test_web=this.webpackJsonpiot_test_web||[]).push([[0],{16:function(e,t,a){e.exports=a(39)},38:function(e,t,a){},39:function(e,t,a){"use strict";a.r(t);var l=a(0),n=a.n(l),c=a(15),r=a.n(c),o=a(2),m=a(4),s=a(5),i=a(3),u=a.n(i),b=function(e){var t=e.device,a=e.setShowForm,c=Object(l.useState)(t),r=Object(o.a)(c,2),i=r[0],b=r[1],E=function(e){var t=e.target;b(Object(s.a)(Object(s.a)({},i),{},Object(m.a)({},t.name,t.value)))};return n.a.createElement(n.a.Fragment,null,n.a.createElement("form",null,n.a.createElement("div",{className:"form-group row"},n.a.createElement("label",{className:"col-sm-2 col-form-label"},"id"),n.a.createElement("div",{className:"col-sm-10"},n.a.createElement("input",{name:"id",type:"text",className:"form-control",value:i._id,onChange:E}))),n.a.createElement("div",{className:"form-group row"},n.a.createElement("label",{className:"col-sm-2 col-form-label"},"type"),n.a.createElement("div",{className:"col-sm-10"},n.a.createElement("input",{name:"type",type:"text",className:"form-control",value:i.type,onChange:E}))),n.a.createElement("div",{className:"form-group row"},n.a.createElement("label",{className:"col-sm-2 col-form-label"},"label"),n.a.createElement("div",{className:"col-sm-10"},n.a.createElement("input",{name:"label",type:"text",className:"form-control",value:i.label,onChange:E}))),n.a.createElement("button",{onClick:function(e){e.preventDefault(),a(!1),u.a.put("https://web-test-back.herokuapp.com/device/".concat(i._id),i).then((function(e){console.log(e)})).catch((function(e){console.log(e)}))},type:"submit",className:"btn btn-primary"},"Submit")),n.a.createElement("br",null))},E=function(e){var t=e.device,a=Object(l.useState)(!1),c=Object(o.a)(a,2),r=c[0],m=c[1];return n.a.createElement(n.a.Fragment,null,r&&n.a.createElement(b,{setShowForm:m,device:t}),n.a.createElement("button",{onClick:function(){m(!r)},className:"btn btn-warning"},"Update"))},f=function(){return n.a.createElement(n.a.Fragment,null,n.a.createElement("span",null,"Not available, yet"))},p=function(){var e=Object(l.useState)(!1),t=Object(o.a)(e,2),a=t[0],c=t[1];return n.a.createElement(n.a.Fragment,null,a&&n.a.createElement(f,null),n.a.createElement("button",{onClick:function(){c(!a)},className:"btn btn-info"},"Control"))},v=function(e){var t=e._id;return n.a.createElement(n.a.Fragment,null,n.a.createElement("button",{onClick:function(){console.log(t),u.a.delete("https://web-test-back.herokuapp.com/device/".concat(t)).then((function(e){console.log(e)})).catch((function(e){console.log(e)}))},className:"btn btn-danger float-right"},"Delete"))},d=function(e){var t=e._id,a=e.label,l=e.device;return n.a.createElement(n.a.Fragment,null,n.a.createElement("li",{className:"list-group-item"},a," ",n.a.createElement(E,{device:l})," ",n.a.createElement(p,null)," ",n.a.createElement(v,{_id:t})))},N=function(e){var t=e.setShowForm,a=Object(l.useState)({id:"",type:"",label:""}),c=Object(o.a)(a,2),r=c[0],i=c[1],b=function(e){var t=e.target;i(Object(s.a)(Object(s.a)({},r),{},Object(m.a)({},t.name,t.value)))};return n.a.createElement("form",null,n.a.createElement("div",{className:"form-group row"},n.a.createElement("label",{className:"col-sm-2 col-form-label"},"type"),n.a.createElement("div",{className:"col-sm-10"},n.a.createElement("input",{name:"type",type:"text",className:"form-control",onChange:b}))),n.a.createElement("div",{className:"form-group row"},n.a.createElement("label",{className:"col-sm-2 col-form-label"},"label"),n.a.createElement("div",{className:"col-sm-10"},n.a.createElement("input",{name:"label",type:"text",className:"form-control",onChange:b}))),n.a.createElement("button",{onClick:function(e){e.preventDefault(),t(!1),u.a.post("https://web-test-back.herokuapp.com/device",{id:r.id,type:r.type,label:r.label}).then((function(e){console.log(e)})).catch((function(e){console.log(e)}))},type:"submit",className:"btn btn-primary"},"Submit"))},g=function(){var e=Object(l.useState)(!1),t=Object(o.a)(e,2),a=t[0],c=t[1];return n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{className:"container"},n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"col-sm"},n.a.createElement("button",{onClick:function(){c(!a)},className:"btn btn-success"},"Add Device"))),n.a.createElement("br",null),n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"col-sm"},a&&n.a.createElement(N,{setShowForm:c})))),n.a.createElement("hr",null))},h=function(){var e=Object(l.useState)([]),t=Object(o.a)(e,2),a=t[0],c=t[1],r=Object(l.useState)(!1),m=Object(o.a)(r,2),s=m[0],i=m[1];return Object(l.useEffect)((function(){u.a.get("https://web-test-back.herokuapp.com/device").then((function(e){var t=e.data.devices;c(t),i(!1)})).catch((function(e){console.log(e)}))}),[s]),n.a.createElement("div",{onClick:function(){i(!0)}},n.a.createElement("div",{className:"container"},n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"col-sm"},n.a.createElement("h2",null,"Devices"))),n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"col-sm"},n.a.createElement(g,null)))),n.a.createElement("ul",{className:"list-group list-group-flush"},a.map((function(e){return n.a.createElement(d,{key:e._id,_id:e._id,label:e.label,device:e})}))))},w=function(){return n.a.createElement("div",null,n.a.createElement("h1",null,"Web-test"),n.a.createElement(h,null))},j=(a(38),document.querySelector("#root"));r.a.render(n.a.createElement(w,null),j)}},[[16,1,2]]]);
//# sourceMappingURL=main.013d970f.chunk.js.map