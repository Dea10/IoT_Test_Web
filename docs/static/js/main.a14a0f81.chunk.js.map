{"version":3,"sources":["components/AddDevice.js","components/DeleteDevice.js","components/UpdateDevice.js","components/DevicesList.js","App.js","index.js"],"names":["AddDevice","useState","id","label","manufacturer","type","state","inputValue","setInputValue","handleInputChange","event","target","name","value","writeUserData","device","firebase","ref","child","set","onSubmit","preventDefault","console","log","className","onChange","DeleteDevice","props","onClick","remove","UpdateDevice","update","setUpdate","DevicesList","setState","length","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","measurementId","useEffect","on","snapshot","resp","val","devs","i","push","map","key","App","divRoot","document","querySelector","ReactDOM","render"],"mappings":"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","file":"static/js/main.a14a0f81.chunk.js","sourcesContent":["import React, { useState } from 'react';\n\nimport * as firebase from \"firebase/app\";\nimport \"firebase/database\";\n\nconst AddDevice = () => {\n\n    const [inputValue, setInputValue] = useState({\n        id: '',\n        label: '',\n        manufacturer: '',\n        type: '',\n        state: ''\n    });\n\n    const handleInputChange = (event) => {\n        const target = event.target;\n\n        setInputValue({\n            ...inputValue,\n            [target.name]: target.value\n        });\n    }\n\n    const handleSubmit = (event) => {\n        event.preventDefault();\n\n        writeUserData(inputValue);\n\n        console.log('done!');\n\n        setInputValue({\n            id: '',\n            label: '',\n            manufacturer: '',\n            type: '',\n            state: ''\n        });\n    }\n\n    const writeUserData = (device) => {\n        firebase.database().ref('/devices/').child(device.id).set({\n            id: device.id,\n            label: device.label,\n            manufacturer: device.manufacturer,\n            type: device.type,\n            state: device.state\n        });\n    }\n\n    return (\n        <form onSubmit={handleSubmit}>\n            <div className='form-group row'>\n                <label className='col-sm-2 col-form-label'>id: </label>\n                <div className='col-sm-10'>\n                    <input\n                        name='id'\n                        type=\"text\"\n                        className='form-control'\n                        value={inputValue.id}\n                        onChange={handleInputChange}\n                    />\n                </div>\n            </div>\n            <br />\n            <div className='form-group row'>\n                <label className='col-sm-2 col-form-label'>label: </label>\n                <div className='col-sm-10'>\n                    <input\n                        name='label'\n                        type=\"text\"\n                        className='form-control'\n                        value={inputValue.label}\n                        onChange={handleInputChange}\n                    />\n                </div>\n            </div>\n            <br />\n            <div className='form-group row'>\n                <label className='col-sm-2 col-form-label'>manufacturer:</label>\n                <div className='col-sm-10'>\n                    <input\n                        name='manufacturer'\n                        type=\"text\"\n                        className='form-control'\n                        value={inputValue.manufacturer}\n                        onChange={handleInputChange}\n                    />\n                </div>\n            </div>\n            <br />\n            <div className='form-group row'>\n                <label className='col-sm-2 col-form-label'>type:</label>\n                <div className='col-sm-10'>\n                    <input\n                        name='type'\n                        type=\"text\"\n                        className='form-control'\n                        value={inputValue.type}\n                        onChange={handleInputChange}\n                    />\n                </div>\n            </div>\n            <br />\n            <div className='form-group row'>\n                <label className='col-sm-2 col-form-label'>state:</label>\n                <div className='col-sm-10'>\n                    <input\n                        name='state'\n                        type=\"text\"\n                        className='form-control'\n                        value={inputValue.state}\n                        onChange={handleInputChange}\n                    />\n                </div>\n            </div>\n            <br />\n            <input className='btn btn-primary' type=\"submit\" value=\"Submit\" />\n        </form>\n    )\n}\n\nexport default AddDevice;","import React from 'react';\n\nimport * as firebase from \"firebase/app\";\nimport \"firebase/database\";\n\nconst DeleteDevice = (props) => {\n\n    const database = firebase.database();\n\n    const ref = database.ref('/devices/');\n\n    const handleDelete = () => {\n        ref.child(props.id).remove();\n    }\n\n    return(\n        <li className='list-group-item dflex'>\n            <span className='flex-grow-1'>{props.id} - {props.label}</span>\n            <button className='btn btn-danger ml-3' onClick={handleDelete}>Delete</button>\n        </li>\n    )\n}\n\nexport default DeleteDevice;","import React, { useState } from 'react';\nimport * as firebase from \"firebase/app\";\nimport \"firebase/database\";\n\nconst UpdateDevice = ({ id, label, manufacturer, type, state }) => {\n\n    const [update, setUpdate] = useState(false)\n\n    const handleUpdate = () => {\n        console.log('update');\n        setUpdate(true);\n    }\n\n    const [inputValue, setInputValue] = useState({\n        id,\n        label,\n        manufacturer,\n        type,\n        state\n    });\n\n    const handleInputChange = (event) => {\n        const target = event.target;\n\n        setInputValue({\n            ...inputValue,\n            [target.name]: target.value\n        });\n    }\n\n    const writeUserData = (device) => {\n        firebase.database().ref('/devices/').child(device.id).set({\n            id: device.id,\n            label: device.label,\n            manufacturer: device.manufacturer,\n            type: device.type,\n            state: device.state\n        });\n    }\n\n    const handleSubmit = (event) => {\n        event.preventDefault();\n\n        writeUserData(inputValue);\n\n        console.log('done!');\n\n        setInputValue({\n            id: '',\n            label: '',\n            manufacturer: '',\n            type: '',\n            state: ''\n        });\n\n        setUpdate(false);\n    }\n\n    return (\n        <div>\n            <button className='btn btn-warning' onClick={handleUpdate}>Update</button>\n            {\n                update && <form onSubmit={handleSubmit}>\n                    <div className='form-group row'>\n                        <label className='col-sm-2 col-form-label'>id:</label>\n                        <div className='col-sm-10'>\n                            <input\n                                name='id'\n                                type=\"text\"\n                                className='form-control'\n                                value={inputValue.id}\n                                onChange={handleInputChange}\n                            />\n                        </div>\n                    </div>\n                    <br />\n                    <div className='form-group row'>\n                        <label className='col-sm-2 col-form-label'>label:</label>\n                        <div className='col-sm-10'>\n                            <input\n                                name='label'\n                                type=\"text\"\n                                className='form-control'\n                                value={inputValue.label}\n                                onChange={handleInputChange}\n                            />\n                        </div>\n                    </div>\n                    <br />\n                    <div className='form-group row'>\n                        <label className='col-sm-2 col-form-label'>manufacturer:</label>\n                        <div className='col-sm-10'>\n                            <input\n                                name='manufacturer'\n                                type=\"text\"\n                                className='form-control'\n                                value={inputValue.manufacturer}\n                                onChange={handleInputChange}\n                            />\n                        </div>\n                    </div>\n                    <br />\n                    <div className='form-group row'>\n                        <label className='col-sm-2 col-form-label'>type:</label>\n                        <div className='col-sm-10'>\n                            <input\n                                name='type'\n                                type=\"text\"\n                                className='form-control'\n                                value={inputValue.type}\n                                onChange={handleInputChange}\n                            />\n                        </div>\n                    </div>\n                    <br />\n                    <div className='form-group row'>\n                        <label className='col-sm-2 col-form-label'>state:</label>\n                        <div className='col-sm-10'>\n                            <input\n                                name='state'\n                                type=\"text\"\n                                className='form-control'\n                                value={inputValue.state}\n                                onChange={handleInputChange}\n                            />\n                        </div>\n                    </div>\n                    <br />\n                    <input className='btn btn-primary' type=\"submit\" value=\"Submit\" />\n                </form>\n            }\n        </div>\n    )\n}\n\nexport default UpdateDevice;","import React, { useState, useEffect } from 'react';\n\n\nimport * as firebase from \"firebase/app\";\nimport \"firebase/database\";\nimport AddDevice from './AddDevice';\nimport DeleteDevice from './DeleteDevice';\nimport UpdateDevice from './UpdateDevice';\n\n\nconst DevicesList = () => {\n    const [state, setState] = useState([]);\n\n\n    const firebaseConfig = {\n        apiKey: \"AIzaSyC2Y7QCis_lQ6sLualc4zNLaRnf-ptH2G4\",\n        authDomain: \"iotandroid-7bad6.firebaseapp.com\",\n        databaseURL: \"https://iotandroid-7bad6.firebaseio.com\",\n        projectId: \"iotandroid-7bad6\",\n        storageBucket: \"iotandroid-7bad6.appspot.com\",\n        messagingSenderId: \"990215716852\",\n        appId: \"1:990215716852:web:9253534be1152c71dbc3a1\",\n        measurementId: \"G-NDPNP3L9DB\"\n    };\n\n    if (!firebase.apps.length) {\n        firebase.initializeApp(firebaseConfig);\n    }\n\n    const database = firebase.database();\n\n    const ref = database.ref('/devices/');\n\n\n\n    useEffect(() => {\n        ref.on('value', snapshot => {\n\n            const resp = snapshot.val();\n            console.log(resp);\n\n            const devs = []\n            for (let i in resp) {\n                devs.push(resp[i]);\n            }\n\n            console.log(devs);\n\n            setState(devs);\n        });\n    }, [])\n\n    return (\n        <div>\n            <h3>Devices List</h3>\n            {\n                <AddDevice />\n            }\n            <ol>\n                {\n                    state.map((device) => {\n                        return (\n                            <ul className='list-group' key={device.id}>\n                                \n                                <DeleteDevice\n                                    label={device.label}\n                                    id={device.id}\n                                />\n                                <UpdateDevice \n                                    id={device.id}\n                                    label={device.label}\n                                    manufacturer={device.manufacturer}\n                                    type={device.type}\n                                    state={device.state}\n                                />\n                            </ul>\n                        )\n                    })\n                }\n            </ol>\n        </div>\n    )\n}\n\nexport default DevicesList;","import React from 'react';\nimport DevicesList from './components/DevicesList';\n\n\nconst App = () => {\n\n    return(\n        <div>\n            <h1>Web-test</h1>\n            {<DevicesList />}\n        </div>\n    );\n}\n\nexport default App;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\n\nconst divRoot = document.querySelector('#root');\n\nReactDOM.render(<App />, divRoot);"],"sourceRoot":""}